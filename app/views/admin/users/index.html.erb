<h1>Admin Users</h1>

<%= render partial: 'create_user_form', locals: { user: @user } %>

<ul class="flex flex-row gap-2 p-2">
  <li><%= link_to "All", admin_users_path %></li>
  <li><%= link_to "Pending", admin_users_path(filter: 'pending')  %></li>
  <li><%= link_to "Approved", admin_users_path(filter: 'approved') %></li>
  <li><%= link_to "Admins", admin_users_path(filter: 'admins') %></li>
  <li><%= link_to "Standards", admin_users_path(filter: 'standards') %></li>
</ul>

<%= render_table do %>
  <%= table_head do %>
    <%= table_header "First Name" %>
    <%= table_header "Last Name" %>
    <%= table_header "Email" %>
    <%= table_header "Role" %>
    <%= table_header "Approval" %>
    <%= table_header "" %>
    <%= table_header "" %>
  <% end %>
  <%= table_body do %>
    <% @users.each do |user| %>
      <%= table_row do %>
        <%= table_column do %>
          <%= link_to user.first_name, admin_user_path(user), class: 'text-primary' %>
        <% end %>
        <%= table_column user.last_name %>
        <%= table_column user.email %>
        <%= table_column do %>
          <%= render partial: 'role_form', locals: { user: user } %>
        <% end %>
        <%= table_column do %>
          <%= render partial: 'approved_form', locals: { user: user } %>
        <% end %>
        <%= table_column do %>
          <%= render partial: 'edit_user_form', locals: { user: user } %>
        <% end %>
        <%= table_column do %>
          <%= render partial: 'delete_user_form', locals: { user: user } %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
